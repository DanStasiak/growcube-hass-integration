title: GrowCube Logs
path: growcube-logs
icon: mdi:sprout
type: custom
cards:
  - type: markdown
    title: 🌱 Today’s Waterings
    content: >
      {% set events = state_attr('sensor.growcube_watering_log', 'today') or [] %}
      {% if events %}
      **Watered today ({{ events | count }} times):**
      {{ events | join('\n') }}
      {% else %}
      _No watering events yet today._
      {% endif %}
  - type: markdown
    title: 🗓️ Weekly Watering Log
    content: >
      {% set week = now().strftime('%G-W%V') %}
      {% set all = state_attr('sensor.growcube_watering_log', 'week') or {} %}
      {% set events = all.get(week, []) %}
      {% if events %}
      **Events for {{ week }}:**
      {{ events | join('\n') }}
      {% else %}
      _No watering events logged for this week._
      {% endif %}
  - type: markdown
    title: 📊 Watering Summary (All Time)
    content: >
      {% set summary = state_attr('sensor.growcube_watering_log', 'summary') or {} %}
      {% set total = summary.get('total_cycles', 0) %}
      {% set plants = summary.get('plants', {}) %}
      **Total Cycles:** {{ total }}
      {% for name, count in plants.items() %}
      - **{{ name }}**: {{ count }}×
      {% endfor %}